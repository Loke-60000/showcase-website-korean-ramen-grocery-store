import{_ as g,o as p,c as _,a as n,w as F,b as c,v as u,t as S,d as b,p as w,e as y}from"./index-2767b03c.js";const d={_origin:"https://api.emailjs.com"},x=(t,e="https://api.emailjs.com")=>{d._userID=t,d._origin=e},f=(t,e,i)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!i)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class h{constructor(e){this.status=e.status,this.text=e.responseText}}const v=(t,e,i={})=>new Promise((l,o)=>{const a=new XMLHttpRequest;a.addEventListener("load",({target:s})=>{const m=new h(s);m.status===200||m.text==="OK"?l(m):o(m)}),a.addEventListener("error",({target:s})=>{o(new h(s))}),a.open("POST",d._origin+t,!0),Object.keys(i).forEach(s=>{a.setRequestHeader(s,i[s])}),a.send(e)}),T=(t,e,i,l)=>{const o=l||d._userID;return f(o,t,e),v("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:o,service_id:t,template_id:e,template_params:i}),{"Content-type":"application/json"})},V=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},q=(t,e,i,l)=>{const o=l||d._userID,a=V(i);f(o,t,e);const s=new FormData(a);return s.append("lib_version","3.2.0"),s.append("service_id",t),s.append("template_id",e),s.append("user_id",o),v("/api/v1.0/email/send-form",s)},E={init:x,send:T,sendForm:q};const I={data(){return{contactForm:{name:"",phone:"",message:""},emailStatus:""}},methods:{async sendEmail(){try{(await E.send("service_pcos57f","template_rc88g8p",this.contactForm,"uJrVg6QX9O-TwIFuk")).status===200?this.emailStatus="Email sent successfully!":this.emailStatus="Failed to send email. Please try again."}catch{this.emailStatus="Failed to send email. Please try again."}}}},r=t=>(w("data-v-71a53224"),t=t(),y(),t),D={class:"formPage"},j={class:"emailform"},M=r(()=>n("h1",null,"Formulaire de contact",-1)),P=r(()=>n("label",{for:"name"},"Nom",-1)),O=r(()=>n("br",null,null,-1)),L=r(()=>n("label",{for:"phone"},"Telephone",-1)),N=r(()=>n("br",null,null,-1)),k=r(()=>n("label",{for:"message"},"Message",-1)),C=r(()=>n("br",null,null,-1)),H=r(()=>n("button",{type:"submit"},"Send",-1)),B={key:0};function J(t,e,i,l,o,a){return p(),_("div",D,[n("div",j,[M,n("form",{onSubmit:e[3]||(e[3]=F((...s)=>a.sendEmail&&a.sendEmail(...s),["prevent"]))},[n("div",null,[P,O,c(n("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=s=>o.contactForm.name=s),required:""},null,512),[[u,o.contactForm.name]])]),n("div",null,[L,N,c(n("input",{type:"tel",id:"phone","onUpdate:modelValue":e[1]||(e[1]=s=>o.contactForm.phone=s),required:""},null,512),[[u,o.contactForm.phone]])]),n("div",null,[k,C,c(n("textarea",{id:"message","onUpdate:modelValue":e[2]||(e[2]=s=>o.contactForm.message=s),required:""},null,512),[[u,o.contactForm.message]])]),H],32),o.emailStatus?(p(),_("p",B,S(o.emailStatus),1)):b("",!0)])])}const U=g(I,[["render",J],["__scopeId","data-v-71a53224"]]);export{U as default};
